{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nmcca\\\\source\\\\repos\\\\AWS.eForms\\\\AWS.eForms.ReactApp\\\\src\\\\views\\\\formLayout\\\\PageBase.js\";\nimport React from 'react';\nimport withParamsAndNavigate from \"helpers/withParamsAndNavigate\";\nimport getContactUsServiceRequest from 'data/ContactUs-ServiceRequest';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PageBase extends React.Component {\n  constructor(props) {\n    super(props); //If controlled form will need all fields from json\n\n    this.state = {\n      FirstName: '',\n      Surname: ''\n    };\n    this.onValueChange = this.onValueChange.bind(this);\n  } //This will probably move\n\n\n  onValueChange(e) {\n    //Lifting up - top level\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    //const [name] = this.props.outletContext;\n    // Can't do relative paths here, only with imports at the top of files :(\n    // .default takes the default export from the file\n    //Check if specific page first, if not match params.page, if not error\n    let FormPage;\n    let thisPageData = [];\n\n    if (this.props.params.page === 'Summary') {\n      FormPage = require(\"../shared/Summary\").default;\n    } //Need check for reusable pages\n    else if (this.props.params.page === 'Description') {\n      FormPage = require(\"../../forms/\" + this.props.params.form + \"/\" + this.props.params.page).default;\n    } else {\n      //Call a lambda instead here where pass form name and page from params\n      let contactUsServiceRequest = getContactUsServiceRequest();\n      thisPageData = contactUsServiceRequest.formViews.filter(f => f.name === this.props.params.page);\n\n      if (thisPageData.length > 0) {\n        FormPage = require(\"../shared/DynamicPage\").default;\n      } else {\n        console.log(\"nav to error page\"); //this.props.navigate(\"/ContactUsPathways/Generic\");\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(FormPage, {\n      pageData: thisPageData[0]\n      /*outletProps={name}*/\n      ,\n      onValueChange: this.onValueChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default _c = withParamsAndNavigate(PageBase);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","withParamsAndNavigate","getContactUsServiceRequest","PageBase","Component","constructor","props","state","FirstName","Surname","onValueChange","bind","e","target","value","type","checked","name","setState","render","FormPage","thisPageData","params","page","require","default","form","contactUsServiceRequest","formViews","filter","f","length","console","log"],"sources":["C:/Users/nmcca/source/repos/AWS.eForms/AWS.eForms.ReactApp/src/views/formLayout/PageBase.js"],"sourcesContent":["import React from 'react';\r\nimport withParamsAndNavigate from \"helpers/withParamsAndNavigate\";\r\nimport getContactUsServiceRequest from 'data/ContactUs-ServiceRequest';\r\n\r\nclass PageBase extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        //If controlled form will need all fields from json\r\n        this.state = { FirstName: '', Surname: ''};\r\n        this.onValueChange = this.onValueChange.bind(this);\r\n    }\r\n    //This will probably move\r\n    onValueChange(e) {\r\n        //Lifting up - top level\r\n        const target = e.target\r\n        const value = target.type === 'checkbox' ? target.checked : target.value\r\n        const name = target.name\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n    render() {\r\n        //const [name] = this.props.outletContext;\r\n        \r\n        // Can't do relative paths here, only with imports at the top of files :(\r\n        // .default takes the default export from the file\r\n        //Check if specific page first, if not match params.page, if not error\r\n        let FormPage;\r\n        let thisPageData = [];\r\n        if (this.props.params.page === 'Summary') {\r\n            FormPage = require(\"../shared/Summary\").default;\r\n        }\r\n        //Need check for reusable pages\r\n        else if (this.props.params.page === 'Description') {\r\n            FormPage = require(\"../../forms/\" + this.props.params.form + \"/\" + this.props.params.page).default;\r\n        }      \r\n        else {\r\n            //Call a lambda instead here where pass form name and page from params\r\n            let contactUsServiceRequest = getContactUsServiceRequest();\r\n            thisPageData = contactUsServiceRequest.formViews.filter(f => f.name === this.props.params.page);\r\n            if (thisPageData.length > 0) {\r\n                FormPage = require(\"../shared/DynamicPage\").default;\r\n            }\r\n            else {\r\n                console.log(\"nav to error page\");\r\n                //this.props.navigate(\"/ContactUsPathways/Generic\");\r\n            }\r\n        }\r\n        return <FormPage pageData={thisPageData[0]} /*outletProps={name}*/ onValueChange={this.onValueChange} />;\r\n  }\r\n}\r\n\r\nexport default withParamsAndNavigate(PageBase);"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,qBAAP,MAAkC,+BAAlC;AACA,OAAOC,0BAAP,MAAuC,+BAAvC;;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACI,SAA7B,CAAuC;EACnCC,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN,EADe,CAEf;;IACA,KAAKC,KAAL,GAAa;MAAEC,SAAS,EAAE,EAAb;MAAiBC,OAAO,EAAE;IAA1B,CAAb;IACA,KAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;EACH,CANkC,CAOnC;;;EACAD,aAAa,CAACE,CAAD,EAAI;IACb;IACA,MAAMC,MAAM,GAAGD,CAAC,CAACC,MAAjB;IACA,MAAMC,KAAK,GAAGD,MAAM,CAACE,IAAP,KAAgB,UAAhB,GAA6BF,MAAM,CAACG,OAApC,GAA8CH,MAAM,CAACC,KAAnE;IACA,MAAMG,IAAI,GAAGJ,MAAM,CAACI,IAApB;IACA,KAAKC,QAAL,CAAc;MACV,CAACD,IAAD,GAAQH;IADE,CAAd;EAGH;;EACDK,MAAM,GAAG;IACL;IAEA;IACA;IACA;IACA,IAAIC,QAAJ;IACA,IAAIC,YAAY,GAAG,EAAnB;;IACA,IAAI,KAAKf,KAAL,CAAWgB,MAAX,CAAkBC,IAAlB,KAA2B,SAA/B,EAA0C;MACtCH,QAAQ,GAAGI,OAAO,CAAC,mBAAD,CAAP,CAA6BC,OAAxC;IACH,CAFD,CAGA;IAHA,KAIK,IAAI,KAAKnB,KAAL,CAAWgB,MAAX,CAAkBC,IAAlB,KAA2B,aAA/B,EAA8C;MAC/CH,QAAQ,GAAGI,OAAO,CAAC,iBAAiB,KAAKlB,KAAL,CAAWgB,MAAX,CAAkBI,IAAnC,GAA0C,GAA1C,GAAgD,KAAKpB,KAAL,CAAWgB,MAAX,CAAkBC,IAAnE,CAAP,CAAgFE,OAA3F;IACH,CAFI,MAGA;MACD;MACA,IAAIE,uBAAuB,GAAGzB,0BAA0B,EAAxD;MACAmB,YAAY,GAAGM,uBAAuB,CAACC,SAAxB,CAAkCC,MAAlC,CAAyCC,CAAC,IAAIA,CAAC,CAACb,IAAF,KAAW,KAAKX,KAAL,CAAWgB,MAAX,CAAkBC,IAA3E,CAAf;;MACA,IAAIF,YAAY,CAACU,MAAb,GAAsB,CAA1B,EAA6B;QACzBX,QAAQ,GAAGI,OAAO,CAAC,uBAAD,CAAP,CAAiCC,OAA5C;MACH,CAFD,MAGK;QACDO,OAAO,CAACC,GAAR,CAAY,mBAAZ,EADC,CAED;MACH;IACJ;;IACD,oBAAO,QAAC,QAAD;MAAU,QAAQ,EAAEZ,YAAY,CAAC,CAAD;MAAK;MAArC;MAA4D,aAAa,EAAE,KAAKX;IAAhF;MAAA;MAAA;MAAA;IAAA,QAAP;EACL;;AA7CoC;;AAgDvC,oBAAeT,qBAAqB,CAACE,QAAD,CAApC"},"metadata":{},"sourceType":"module"}